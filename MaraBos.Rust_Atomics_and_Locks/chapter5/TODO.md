continue from:
https://marabos.nl/atomics/building-channels.html#safety-through-runtime-checks
